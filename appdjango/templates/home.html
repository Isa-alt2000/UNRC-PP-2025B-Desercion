{% extends "base.html" %}
{% load static %}
{% block title %}Inicio{% endblock %}

{% block content %}
<div class="text-center">
  <h2>Bienvenido/a {{ user.alias }}! </h2>
  {% if user.is_authenticated %}
    <p class="lead">Has iniciado sesi贸n como <strong>@{{ user.username }}</
  {% else %}
    <p class="lead">No has iniciado sesi贸n. Inicia sesion <a href="{% url 'users:login' %}">inicia sesi贸n</a> o <a href="{% url 'users:register' %}">reg铆strate</a>.</p>
  {% endif %}
</div>

<section class="hero-section bg-primary text-white py-5 mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-3">Bienvenido/a</h1>
                <p class="lead mb-4">Proyecto protot铆pico 2025-B: Deserci贸n universitaria.</p>
                <div class="d-flex gap-3">
                    {% if user.is_authenticated %}
                        <a href="{% url 'dashboards:lista_cuentas' %}" class="btn btn-light btn-lg">
                            <i class="fas fa-plus me-2"></i>Ver mis finanzas
                        </a>
                        <a href="#" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-comments me-2"></i>Ver reporte
                        </a>
                        <a href="#" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-user-plus me-2"></i>Contesta una encuesta
                        </a>                        
                    {% else %}
                        <a href="{% url 'users:login' %}" class="btn btn-light btn-lg">
                            <i class="fas fa-sign-in-alt me-2"></i>Iniciar Sesi贸n
                        </a>
                        <a href="{% url 'users:register' %}" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-user-plus me-2"></i>Registrarse
                        </a>
                        <a href="#" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-user-plus me-2"></i>Contesta una encuesta
                        </a>                        
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-6 text-center">
             <img src="{% static 'images/campus.jpg' %}" 
                 alt="campus-coyoacan" class="img-fluid rounded-3">
            </div>
        </div>
    </div>
</section>

<section class="featured-posts mb-5">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center">
                    <h2 class="h3">Deserci贸n universitaria en la UNRC</h2>
                    <a href="#" class="btn btn-outline-primary">
                        Ver M谩s <i class="fas fa-arrow-right ms-2"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scroll para anchors
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Animaci贸n de contadores
    const counters = document.querySelectorAll('.stat-item h3');
    const speed = 200;

    counters.forEach(counter => {
        const target = +counter.innerText;
        let count = 0;
        
        const updateCount = () => {
            const increment = target / speed;
            if (count < target) {
                count += increment;
                counter.innerText = Math.ceil(count);
                setTimeout(updateCount, 1);
            } else {
                counter.innerText = target;
            }
        };
        
        updateCount();
    });
});
</script>
{% endblock %}

 